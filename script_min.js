"use strict";var terminal=document.getElementById("console"),word1="hello world",word2="Nikhi Bhambra",word4="blog",word5="about",letterCount=0,letterDelete=0,visible=!0,currentMode="home";let mainCopy=document.getElementById("main-copy").innerHTML;function terminalText(e){let t=document.getElementById("text");window.setTimeout(function(){window.setTimeout(function(){if(0===letterCount)for(;letterCount<=e.length;)!function(n){window.setTimeout(function(){1===n&&(terminal.innerHTML="&#95;"),t.innerHTML=e.substring(0,n)},100*n)}(letterCount++)},0),window.setTimeout(function(){if(letterCount>=e.length&&e!=word2)for(;letterCount>=0&&letterDelete!=e.length+1;)!function(n){window.setTimeout(function(){n<1&&(terminal.innerHTML="&nbsp;&#95;"),t.innerHTML=e.substring(0,n)},1e3-40*n)}(letterDelete++)},2e3),letterCount=0,letterDelete=0},1500)}function blinkingCursor(){visible?(terminal.className="console-underscore hidden",visible=!1):(terminal.className="console-underscore",visible=!0)}function tintBackgroundTo(e){document.documentElement.style.background="#"+e}function tintBackgroundToRgb(e){document.documentElement.style.background=e}function startBackgroundAnimation(){window.addEventListener("load",function(){let e,t,n,o,i,l,r,s,c,d,a,u,$,h=Math.random,m=Math.floor,g=Math.abs;function y(e,t){return void 0===t?e*h():e+h()*(t-e)}function f(e,t){return void 0===t?m(e*h()):e+m(h()*(t-e))}function p(e){return e[f(0,e.length)]}function k(e){let t,n;for(let o=e.length-1;o>=1;--o)t=f(0,o+1),n=e[o],e[o]=e[t],e[t]=n;return e}function E(e,t,l){this.color=l||`hsl(${f(360)},100%,50%)`,this.kx=e,this.ky=t,this.kxc=e-d,this.kyc=t-a,this.xc=n/2+this.kxc*i,this.yc=o/2+this.kyc*i}function b(e){let t=e.hue,n=e.dhue,o=e.lum,i=e.dlum,l=e.width,r=e.dWidth,s;switch($){case 0:s=`hsl(${t},100%,50%)`,t=(t+n)%360;break;case 1:s=`hsl(${t},100%,${o}%)`,(o+=i)>80&&(i=-g(i)),o<40&&(i=g(i));break;case 2:s=`hsl(${t},100%,${o}%)`,(o+=i)>80&&(i=-g(i)),o<40&&(i=g(i)),t=(t+n)%360}return(l+=r)>2.5&&(r=-g(r)),l<.5&&(r=g(r)),{hue:t,dhue:n,lum:o,dlum:i,width:l,dWidth:r,color:s}}E.prototype.fillSquare=function(e){let n=i-.5,o=n/2;this.evolColor=e,t.fillStyle=`hsl(${e.hue}, 100%,${e.lum}% )`,t.fillRect(this.xc-o,this.yc-o,n,n)};let _;{let v=0,B,w,x;_=function(e){let t,n,o;(n=u.pop())&&"reset"==n.event&&(v=0),n&&"click"==n.event&&(v=0),window.requestAnimationFrame(_),t=performance.now();do switch(v){case 0:I()&&(++v,(x={}).hue=f(360),x.dhue=f(2)?1:359,x.lum=f(40,80),x.dlum=f(2)?-1:1,x.width=y(.5,2.5),x.dWidth=.1,x=b(x));break;case 1:B=[w=r[a][d]],++v;case 2:if(0==B.length){v+=10;break}if((w=B.shift()).evolColor)break;++v;case 3:if(x=b(x),w.group.forEach(e=>e.fillSquare(x)),o=new Set,w.group.forEach(e=>{e.neighbours.forEach(e=>{e.evolColor||o.add(e.group)})}),0==o.size){--v;break}o=k([...o]);for(let i=1;i<o.length;++i)B.push([...o[i]][0]);w=[...o[0]][0]}while((2==v||3==v)&&performance.now()-t<.01)}}function T(e,t,n){t<0||n<0||t>=s||n>=c||(e.add(r[n][t]),r[n][t].group=e)}function b(e){let t=e.hue,n=e.dhue,o=e.lum,i=e.dlum,l=e.width,r=e.dWidth,s;switch($){case 0:s=`hsl(${t},100%,50%)`,t=(t+n)%360,o=50;break;case 1:s=`hsl(${t},100%,${o}%)`,(o+=i)>80&&(i=-g(i)),o<40&&(i=g(i));break;case 2:s=`hsl(${t},100%,${o}%)`,(o+=i)>80&&(i=-g(i)),o<40&&(i=g(i)),t=(t+n)%360}return(l+=r)>2.5&&(r=-g(r)),l<.5&&(r=g(r)),{hue:t,dhue:n,lum:o,dlum:i,width:l,dWidth:r,color:s}}function I(){return n=window.innerWidth,o=window.innerHeight,e.width=n,e.height=o,t.lineJoin="bevel",t.lineCap="round",l=(i=y(5,10))/2,a=m(o/i/2),s=1+2*(d=m(n/i/2)),c=1+2*a,!(s<3)&&!(c<3)&&(t.clearRect(0,0,n,o),$=f(3),function e(){let t,n,o;r=[];for(let i=0;i<c;++i){r[i]=[];for(let l=0;l<s;++l)r[i][l]=new E(l,i)}for(let u=0;u<c;++u)for(let $=0;$<s;++$)(o=r[u][$]).neighbours=[],(n=u-1)>=0&&(o.neighbours[0]=r[n][$]),(t=$+1)<s&&(o.neighbours[1]=r[u][t]),(n=u+1)<c&&(o.neighbours[2]=r[n][$]),(t=$-1)>=0&&(o.neighbours[3]=r[u][t]);for(let h=0;h<c;++h)for(let m=0;m<s;++m)(o=r[h][m]).group||(o.group=new Set([o]),T(o.group,d-o.kxc,o.ky),T(o.group,o.kx,a-o.kyc),T(o.group,d-o.kxc,a-o.kyc),T(o.group,d+o.kyc,a+o.kxc),T(o.group,d+o.kyc,a-o.kxc),T(o.group,d-o.kyc,a+o.kxc),T(o.group,d-o.kyc,a-o.kxc))}(),!0)}(e=document.createElement("canvas")).style.position="absolute",e.style.zIndex="-1",e.style.opacity=.18,e.style.transition="opacity 1s",document.body.appendChild(e),t=e.getContext("2d"),e.setAttribute("title","click me"),e.addEventListener("click",function e(t){u.push({event:"click"})}),u=[{event:"reset"}],requestAnimationFrame(_)})}function stopBackgroundAnimation(){console.log()}function hideText(){console.log()}function showText(){console.log()}function showAbout(){"blog"==currentMode&&document.getElementById("pen").classList.remove("hidden"),currentMode="about";let e=document.getElementById("chevron");e.innerText="<",e.setAttribute("title","Back to Home"),e.style.cursor="pointer";document.getElementById("text").innerHTML=" ",window.setTimeout(function(){terminalText(word5)},2e3);let t=document.getElementById("desc");t.innerText="One day, Nikhi will capture the true essence of his being and inscribe it here for all to bear witness. \n\nUntil then, it's empty.",t.style.margin="30px 0px 0px 0px",document.getElementById("socials").style.padding="26px 0",document.getElementById("about").classList.add("hidden")}function showBlog(){"about"==currentMode&&document.getElementById("about").classList.remove("hidden"),"about"==currentMode&&document.getElementById("options-container").classList.add("hidden"),currentMode="blog";let e=document.getElementById("chevron");e.innerText="<",e.setAttribute("title","Back to Home"),e.style.cursor="pointer",document.getElementById("pen").classList.add("hidden");let t=document.getElementById("desc");t.innerHTML=" ",t.style.minWidth="276px";document.getElementById("text").innerHTML=" ",window.setTimeout(function(){terminalText(word4)},2e3),t.innerHTML="<ul><li><a onmouseenter={showDate(0)} onmouseleave={hideDate(0)} id='blog-link' href=''><i>*crickets*</i></a><span class='blog-date'>12/22</span></li><li><a onmouseenter={showDate(1)} onmouseleave={hideDate(1)} id='blog-link' href=''><i>*more crickets*</i></a><span class='blog-date'>08/22</span></li></ul>"}function showHome(){window.setTimeout(function(){terminalText(word2)},2e3);document.getElementById("chevron").innerText=">",document.getElementById("main-copy").innerHTML=mainCopy,document.getElementById("socials").style.padding="0",document.getElementById("pen").classList.remove("hidden"),document.getElementById("about").classList.remove("hidden")}function showEyeIcon(){}function showHideEyeIcon(){}function showDate(e){document.getElementsByTagName("ul")[0].childNodes[e].childNodes[1].style.opacity=1}function hideDate(e){document.getElementsByTagName("ul")[0].childNodes[e].childNodes[1].style.opacity=0}function turnOnNarration(){!document.body.getElementsByClassName("audio").length>0&&(document.body.innerHTML+="<audio id='audio-player' preload='auto' src='/media/about_narration.mp3'></audio>");document.getElementById("audio-player").play();let e=document.getElementById("button");e.innerHTML="<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-stop-circle'><circle cx='12' cy='12' r='10'></circle><rect x='10' y='10' width='4' height='4' fill='currentColor'></rect></svg>",e.removeEventListener("click",()=>{turnOnNarration()}),e.addEventListener("click",()=>{turnOffNarration()}),document.getElementById("options-container").addEventListener("mouseleave",()=>{document.documentElement.style.background="#0c0c0d"})}function turnOffNarration(){let e=document.getElementById("button");document.getElementById("audio-player").pause(),e.innerHTML="<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-play-circle'><circle cx='12' cy='12' r='10'></circle><polygon points='10 8 16 12 10 16 10 8'></polygon></svg>",e.removeEventListener("click",()=>{turnOffNarration()}),e.addEventListener("click",()=>{turnOnNarration()}),document.getElementById("options-container").addEventListener("mouseleave",()=>{document.documentElement.style.background="#0c0c0d"})}function seeBackground(){document.getElementsByTagName("canvas")[0].style.opacity=1,document.getElementById("top-part").classList.add("hidden"),document.getElementById("main-copy").classList.add("hidden"),document.getElementById("socials").classList.add("hidden")}function undoSeeBackground(){document.getElementsByTagName("canvas")[0].style.opacity=.18,document.getElementById("top-part").classList.remove("hidden"),document.getElementById("main-copy").classList.remove("hidden"),document.getElementById("socials").classList.remove("hidden")}document.getElementById("left-container").addEventListener("mouseleave",()=>{document.documentElement.style.background="#0c0c0d"}),document.getElementById("right-container").addEventListener("mouseleave",()=>{document.documentElement.style.background="#0c0c0d"}),terminalText(word1),window.setTimeout(function(){terminalText(word2)},3e3),window.setTimeout(function(){window.setInterval(blinkingCursor,500)},5500),window.setTimeout(function(){document.getElementById("pen").addEventListener("click",()=>{showBlog()}),document.getElementById("about").addEventListener("click",()=>{showAbout()})},6e3),startBackgroundAnimation();